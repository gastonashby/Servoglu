<?xml version="1.0" encoding="UTF-8"?>

<servoglu xmlns:m="http://www.w3.org/1998/Math/MathML" lang="ENG" timeUnit="hs" name="Pharmacokinetics Model : Most therapeutic drugs are ingested orally and then enter the blood stream via gastrointestinal (GI) absorption. For a therapeutic drug to be effective, it is of course important to know how fast the drug enters the blood stream, and how the drug concentration changes depending on time" >
	<parameters>
		<userDefinedParameters>
			<userDefined name="Sex" description="lbl.Sex" unit="lbl.{Male 0,Female 1}" type="bit" defaultValue ="0" slider="False" graphAsTreatment="false"/>
			<userDefined name="Height" description="lbl.Height" unit="m" type="integer" defaultValue ="1.85" slider="False" graphAsTreatment="false"/>
			<userDefined name="W" description="lbl.Weight" unit="kg" type="integer" defaultValue ="102" slider="False" graphAsTreatment="false"/>
			<userDefined name="Age" description="lbl.Age" unit="lbl.years" type="integer" defaultValue ="36" slider="False" graphAsTreatment="false"/>
			<userDefined name="Dosage" description="Dosage per hour" unit="hrs" type="integer" defaultValue ="6" slider="False" graphAsTreatment="false"/>


		</userDefinedParameters>
		<constants>
			<constant name="a" description="Constant of proportionality" unit="" calculated="True">
				<m:math>
					<apply>
						<eq/>
						<ci>a</ci>
						<apply>
							<divide/>
							<apply>
								<ln/>
								<cn>2</cn>
							</apply>
							<cn>2</cn>
						</apply>
					</apply>
				</m:math>
			</constant>
			<constant name="b" description="Constant of proportionality" unit="" calculated="True">
				<m:math>
					<apply>
						<eq/>
						<ci>b</ci>
						<apply>
							<divide/>
							<apply>
								<ln/>
								<cn>2</cn>
							</apply>
							<cn>5</cn>
						</apply>
					</apply>
				</m:math>
			</constant>
		</constants>
	</parameters>
	<functions>

		<function name="Heaviside" parameters="x" description="Heaviside step function">
			<m:math>								
				<piecewise>
                	<piece>					
						<cn>0</cn> 							
        				<apply>
							<lt/>
							<ci>x</ci>
							<cn>0</cn> 							
						</apply>
					</piece>
					<piece>					
						<cn>1</cn> 							
        				<apply>
							<geq/>
							<ci>x</ci>
							<cn>0</cn> 							
						</apply>
					</piece>
				</piecewise>				
			</m:math>
		</function>
		<function name="D" parameters="x" description="Heaviside step function" outputType="int">
			<m:math>
				<piecewise>
                	<piece>
						<cn>2</cn>
        				<apply>
							<eq/>
							<apply>
								<quotient/>
							  	<ci> x </ci>
							  	<ci> Dosage </ci>
							</apply>
							<cn>0</cn>
						</apply>
					</piece>
					<piece>
						<cn>0</cn>
        				<apply>
							<neq/>
							<apply>
								<quotient/>
							  	<ci> x </ci>
							  	<ci> Dosage </ci>
							</apply>
							<cn>0</cn>
						</apply>
					</piece>
				</piecewise>
			</m:math>
		</function>

		<!--Mathematical expression of function D -->
		<function  name="D2" parameters="t" description="Assumed pattern of drug dosage" outputType="int">
			<m:math>
				<apply>
					<times/>
					<cn>2</cn> 							
					<apply>
						<plus/>
						<apply>
							<minus/>
							<apply>
								<ci>Heaviside</ci>
								<apply>
									<minus/>
									<ci>t</ci>
									<apply>
										<times/>
										<cn>6</cn>
										<cn>0</cn>
									</apply>
								</apply>								
							</apply>
							<apply>								
								<ci>Heaviside</ci>
								<apply>
									<minus/>
									<ci>t</ci>
									<apply>
										<plus/>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>0</cn>
										</apply>
										<cn type="real">0.5</cn>										
									</apply>
								</apply>								
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>1</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>1</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>2</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>2</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>3</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>3</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>4</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>4</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>5</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>5</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>6</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>6</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>7</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>7</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>8</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>8</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>9</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>9</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
						<apply>
							<minus/>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<times/>
											<cn>6</cn>
											<cn>10</cn>
										</apply>
									</apply>
								</apply>
							</apply>
							<apply>
								<apply>
									<ci>Heaviside</ci>
									<apply>
										<minus/>
										<ci>t</ci>
										<apply>
											<plus/>
											<apply>
												<times/>
												<cn>6</cn>
												<cn>10</cn>
											</apply>
											<cn type="real">0.5</cn>										
										</apply>
									</apply>
								</apply>
							</apply>
						</apply>
					</apply>					
				</apply>
			</m:math>
		</function>

	</functions>
	<equations>
		<!-- dGdt= -a*G(t) + D(t) -->
		<equation name="G" defaultValue="0" simulate="True" description="Concentration of the drug in the gastrointestinal tract" unit="mg/ml">
			<m:math>
				<apply>
					<plus/>
					<apply>					
						<times/>
						<apply>
							<minus/>
							<ci>a</ci>							
						</apply>
						<ci>G</ci>					
					</apply>
					<apply>					
						<ci>D</ci>
						<ci>modelTime</ci>
					</apply>
				</apply>  
			</m:math>
		</equation>

		<!-- dBdt= a*G(t) - b*B(t)  -->
		<equation name="B" defaultValue="0" simulate="True" description="Concentration of the drug in the blood" unit="mg/ml">
			<m:math>
				<apply>
					<minus/>
					<apply>					
						<times/>
						<ci>a</ci>	
						<ci>G</ci>					
					</apply>
					<apply>					
						<times/>
						<ci>b</ci>	
						<ci>B</ci>					
					</apply>					
				</apply>  
			</m:math>
		</equation>
	</equations>
</servoglu>